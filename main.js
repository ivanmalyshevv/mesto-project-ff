(()=>{"use strict";var e="";const t=[{name:"Каппадокия",link:e+"1dfeb0b561f021ebd69b.jpg"},{name:"Фудзияма",link:e+"a5859b7beca671396acf.jpg"},{name:"Петра",link:e+"9db852d2c3d179ae2beb.jpg"},{name:"Тадж-Махал",link:e+"9e12421dc79ad9fc5fbb.jpg"},{name:"Венгерский парламент",link:e+"f908c26ceca01d4f54bf.jpg"},{name:"Парк Йосемити",link:e+"d490e166e42242f3424c.jpg"}];function n(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),u=o.querySelector(".card__image"),c=o.querySelector(".card__title");u.src=e.link,u.alt=e.name,c.textContent=e.name,o.querySelector(".card__delete-button").addEventListener("click",(function(){return t(o)}));var i=o.querySelector(".card__like-button");return i.addEventListener("click",(function(){return n(i)})),u.addEventListener("click",(function(){return r(e)})),o}function r(e){e.remove()}function o(e){e.classList.toggle("card__like-button_is-active")}function u(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&i(t)}}function c(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",u)}function i(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",u)}function l(e){e.querySelector(".popup__close").addEventListener("click",(function(){return i(e)})),e.addEventListener("mousedown",(function(t){t.target===e&&i(e)}))}function p(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove(n.inactiveButtonClass)):(t.disabled=!0,t.classList.add(n.inactiveButtonClass))}function a(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);n.forEach((function(n){n.setCustomValidity(""),function(e,t,n){var r=t.querySelector("#".concat(e.id,"-error"));e.classList.remove(n.inputErrorClass),r.classList.remove(n.errorClass),r.textContent=""}(e,n,t)})),p(n,r,t)}var d,s=document.querySelector(".places__list"),_=document.querySelector(".profile__title"),f=document.querySelector(".profile__description"),m=document.querySelector(".popup_type_edit"),y=document.querySelector(".popup_type_new-card"),v=document.querySelector(".popup_type_image"),S=document.querySelector(".profile__edit-button"),q=document.querySelector(".profile__add-button"),b=m.querySelector(".popup__form"),k=m.querySelector(".popup__input_type_name"),E=m.querySelector(".popup__input_type_description"),L=y.querySelector(".popup__form"),C=y.querySelector(".popup__input_type_card-name"),g=y.querySelector(".popup__input_type_url"),x=v.querySelector(".popup__image"),j=v.querySelector(".popup__caption"),A={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function B(e){s.prepend(e)}function h(e){x.src=e.link,x.alt=e.name,j.textContent=e.name,c(v)}d=A,Array.from(document.querySelectorAll(d.formSelector)).forEach((function(e){!function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);p(n,r),n.forEach((function(o){o.addEventListener("input",(function(){isValid(o,e,t),p(n,r)}))}))}(e,d)})),t.forEach((function(e){B(n(e,r,o,h))})),b.addEventListener("submit",(function(e){e.preventDefault(),_.textContent=k.value,f.textContent=E.value,i(m)})),l(m),l(y),l(v),S.addEventListener("click",(function(){k.value=_.textContent,E.value=f.textContent,a(b,A),c(m)})),q.addEventListener("click",(function(){a(L,A),c(y)})),L.addEventListener("submit",(function(e){e.preventDefault(),B(n({name:C.value,link:g.value},r,o,h)),i(y),L.reset(),a(L,A)}))})();